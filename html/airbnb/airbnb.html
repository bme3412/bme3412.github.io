<!DOCTYPE html>
<html>  
  <head>
    <title>Brendan - Best Airbnbs in Paris</title>
    <meta charset="utf-8">
    <meta name="keywords" content>
    <meta name="author" content="Brendan Erhard">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--IE-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9">
    <!--[if IE]>
      <style>
        <link rel="stylesheet" type="text/css" href="css/ie9.css"/>
      </style>
    <![endif]-->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118173659-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-118173659-1');
    </script>
    <!--favi-->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="theme-color" content="#ffffff">
    <!--font awesome-->
    <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>
    <!--jQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--my CSS-->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <link rel="stylesheet" href="/css/main.css" type="text/css">
    <link rel="stylesheet" href="css/ie10.css" type="text/css"> 
    
  </head>
  
  <body>
   <div class="container">
    <nav>
      <a href="/html/index.html" id="branding">Brendan</a>
      <a href="/html/about.html" >About</a>
      <a href="/html/mystory.html">My Story</a> 
      <a href="/html/work.html"class="active" >Work</a> 
      <a href="/html/fun.html">When Not Working</a>  
    </nav>
    <h2>Paris is always a good idea: Identifying the best -- and most mispriced -- airbnb units in Paris, using BeautifulSoup, pandas, MatplotLib/Seaborn, and scikit-learn</h2>
    <p>December 15, 2021</p>
    <p>“If you are lucky enough to have lived in Paris as a young man, then wherever you go for the rest of your life, it stays with you, for Paris is a moveable feast.” This was true for Ernest Hemingway, and it is certainly true for me. I studied abroad in Paris from February to June 2009 and it was a seminal point in my life - I fell in love with the city and the culture and grew tremendously as a person. <br>
    <br>Since my study abroad tour de force in 2009, I have been back to the city I love several times, each time staying at an AirBnb location in a different neighborhood to experience the city from a different perspective. As I look forward to 2022 and a (hopeful) return of global leisure travel, my goal is to use Python to find the most desired Airbnbs location in the city of Paris...and later, all of Europe. </p>
    <figure>
      <img src="/img/paris_header.png" srcset=""alt="paris-header">
    </figure>
    <h2>Key takeaways -- the best Airbnb locations in Paris, with predicted prices the result of multiple regression:</h2>
    <p>For units that accommodate 4 guests or less (with links to visit the listing), sorted by highest expected price:  </p>
    <table>
      <tr>
        <th>Title</th>
        <th>Listing url</th>
        <th>Accommodates</th>
        <th>Neighborhood</th>
        <th>Price*</th>
        <th>Expected Price</th>
      </tr>
      <tr>
        <td>CLASSY STUDIO TOUR EIFFEL</td>
        <td><a href='https://www.airbnb.com/rooms/24236332'>https://www.airbnb.com/rooms/24236332</a></td>
        <td>2</td>
        <td>Palais-Bourbon</td>
        <td>150</td>
        <td>430.31</td>
      </tr>
      <tr>
        <td>Duplex 110 m2, 3 bedrooms, heart of marais</td>
        <td><a href='https://www.airbnb.com/rooms/1852465	'>https://www.airbnb.com/rooms/1852465</a></td>
        <td>4</td>
        <td>Hôtel-de-Ville</td>
        <td>250</td>
        <td>343.46</td>
      </tr>
      <tr>
        <td>Cœur de paris</td>
        <td><a href='https://www.airbnb.com/rooms/17664057'>https://www.airbnb.com/rooms/17664057</a></td>
        <td>4</td>
        <td>Popincourt</td>
        <td>200</td>
        <td>337.15</td>
      </tr>
      <tr>
        <td>Nice apartment/balcony/Montmartre Opera</td>
        <td><a href='https://www.airbnb.com/rooms/6058893'>https://www.airbnb.com/rooms/6058893</a></td>
        <td>4</td>
        <td>Opéra</td>
        <td>210</td>
        <td>319.94</td>
      </tr>
      <tr>
        <td>Beautiful XIX c. Style Apartment</td>
        <td><a href='https://www.airbnb.com/rooms/348747'>https://www.airbnb.com/rooms/348747</a></td>
        <td>4</td>
        <td>Élysée</td>
        <td>260</td>
        <td>319.03</td>
      </tr>
    </table>  
    <p>For units that accommodate less than 6 guests: </p>
    <table>
      <tr>
        <th>Title</th>
        <th>Listing url</th>
        <th>Accommodates</th>
        <th>Neighborhood</th>
        <th>Price*</th>
        <th>Expected Price</th>
      </tr>
      <tr>
        <td>Superb 4 bdrms 185m2 Apt Trocadero</td>
        <td><a href='https://www.airbnb.com/rooms/2249308'>https://www.airbnb.com/rooms/2249308</a></td>
        <td>6</td>
        <td>Passy</td>
        <td>650</td>
        <td>463.18</td>
      </tr>
      <tr>
        <td>A typical Parisian apartment:</td>
        <td><a href='https://www.airbnb.com/rooms/10800486'>https://www.airbnb.com/rooms/10800486</a></td>
        <td>6</td>
        <td>Vaugirard</td>
        <td>300</td>
        <td>454.73</td>
      </tr>
      <tr>
        <td>Flat 234m2 , 4 bedrooms, near Trocadéro</td>
        <td><a href='https://www.airbnb.com/rooms/19903973'>https://www.airbnb.com/rooms/19903973</a></td>
        <td>6</td>
        <td>Passy</td>
        <td>280</td>
        <td>439.52</td>
      </tr>
      <tr>
        <td>Nice family place near Trocadero</td>
        <td><a href='https://www.airbnb.com/rooms/3487818'>https://www.airbnb.com/rooms/3487818</a></td>
        <td>6</td>
        <td>Passy</td>
        <td>290</td>
        <td>434.46</td>
      </tr>
      <tr>
        <td>NEW-MAGIC VIEW - PARIS 7 VARENNE-</td>
        <td><a href='https://www.airbnb.com/rooms/9353416'>https://www.airbnb.com/rooms/9353416</a></td>
        <td>6</td>
        <td>Palais-Bourbon</td>
        <td>450</td>
        <td>397.57</td>
      </tr>
    </table>  
    <p>For all units - no limitation on guest count: </p>
    <table>
      <tr style="height:2px;">
        <th>Title</th>
        <th>Listing url</th>
        <th>Accommodates</th>
        <th>Neighborhood</th>
        <th>Price*</th>
        <th>Expected Price</th>
      </tr>
      <tr style="height:2px;">
        <td>Luxury 190 m² "Pied à terre" in the Heart of Paris</td>
        <td><a href='https://www.airbnb.com/rooms/15658427'>https://www.airbnb.com/rooms/15658427</a></td>
        <td>14</td>
        <td>Bourse</td>
        <td>1,386</td>
        <td>804.27</td>
      </tr>
      <tr style="height:2px;">
        <td>République, renovated 2016 6 bdrms,3WC,3 bathrooms</td>
        <td><a href='https://www.airbnb.com/rooms/13243111'>https://www.airbnb.com/rooms/13243111</a></td>
        <td>16</td>
        <td>Entrepôt</td>
        <td>280</td>
        <td>712.90</td>
      </tr>
      <tr style="height:2px;">
        <td>Luxury 6Bdr 5Bth in Heritage Building - LOUVRE VIEW</td>
        <td><a href='https://www.airbnb.com/rooms/35984086'>https://www.airbnb.com/rooms/35984086</a></td>
        <td>12</td>
        <td>Louvre</td>
        <td>810</td>
        <td>682.61</td>
      </tr>
      <tr style="height:2px;">
        <td>Maison Parisienne - Central Paris</td>
        <td><a href='https://www.airbnb.com/rooms/16905683'>https://www.airbnb.com/rooms/16905683</a></td>
        <td>10</td>
        <td>Popincourt</td>
        <td>707</td>
        <td>660.66</td>
      </tr>
      <tr style="height:2px;">
        <td>Wonderful house in the center of Paris</td>
        <td><a href='https://www.airbnb.com/rooms/20798740'>https://www.airbnb.com/rooms/20798740</a></td>
        <td>10</td>
        <td>Popincourt</td>
        <td>720</td>
        <td>653.59</td>
      </tr>
    </table> 
    <p>* Price refers to the price at the instance the information was scraped. <br>
    Expected price is the output of regression models, and includes the following parameters: # of guests, # of beds, # of bedrooms, availability in the past 90 days, and guest reviews (scale of 1-5) for: overall rating, accuracy, cleanliness, location, and value.<br>
    <br>The raw code working file for data preprocessing and data exploration can be <a href="https://nbviewer.org/github/bme3412/Python/blob/main/Projects/Airbnb/AirBnb%20Paris.ipynb" >viewed here</a>. <br>
    The raw code working file for regression analysis can be <a href="https://nbviewer.org/github/bme3412/Python/blob/main/Projects/Airbnb/Airbnb_Paris3.ipynb" >viewed here</a>. </p>

    <h2>The Datasets:</h2>
    <p>The dataset used for this project comes from <a href="http://insideairbnb.com/get-the-data.html" >Insideairbnb.com</a>, which is actually an anti-Airbnb lobbying group that scrapes listings, reviews and calendar data for multiple cities around the world. The dataset that I used from the site was scraped on September 30, 2021. My inital data set compiled 50,133 Airbnb listings located in  Paris. All in after data cleansing, my dataset included 50 variables (15 numeric, 34 categorical, 1 datetime) and across the 50,133 observations, 2.8% of the data included null or missing values (71,154 missing cells). <br>
    <br>For a detailed summary of the Paris data set please <a href="paris_summary.html" target="_blank">click here</a>. <br>
    <br>I extended the analysis to include airbnb listings for additional European cities on the platform. This dataset has the same # of variables (15 numeric, 34 categorical, 1 datetime) and 280,558 observations for 20 additional cities, from Amsterdam to Vienna.<br>
    <br>For a cursory look at the Paris dataset, below I have aggregrated and visualized each unit by neighborhood (in Paris these are referred to as 'arrondisements') and provided summary statistics, including unit count by arrondisement and average price. The box plot below depicts the distribution of nightly listing prices. The Saint-Germain-des-Pres/Odeon and Le Marais arrondisements have the highest average nightly prices, which is no surprise as these areas are arguably the prettiest and the most culturally important.</p>
    <figure>
      <img src="/img/paris_arr_code.png" srcset=""alt="paris-arr-code">
    </figure>
    <figure>
      <img src="/img/paris_neighborhood_summary.png" srcset=""alt="paris-hood-summary">
    </figure>
    
    <figure>
      <img src="/img/paris_hood_boxplot_code.png" srcset=""alt="paris-hood-boxplot-code">
    </figure>
    <figure>
      <img src="/img/paris_hood_box.png" srcset=""alt="paris-hood-boxplot">
    </figure>
    <p>Below I used longitude and latitude data to plot all airbnb units and color-coded by arrondisement.</p>
    <figure>
      <img src="/img/paris_map_code.png" srcset=""alt="paris-map-code">
    </figure>
    <figure>
      <img src="/img/airbnb_unit_by_arrond.png" srcset=""alt="airbnb-color-code">
    </figure>
    <p>I have also conducted similar analysis for a several other EU-27 cities on the Airbnb platform - the goal of which was to use regression models to find the highest expected price units, as well as to identify the biggest gap between expected price and actual price. Please see links below:</p>
 
      <ul class='two-column'>
        <li><a href="/html/airbnb/amsterdam.html" >Amsterdam</a>: 16,116 listings; avg of €156.91/day</li>
        <li><a href="/html/airbnb/antwerp.html" >Antwerp</a>: 1,776 listings; avg of €103.83</li>
        <li><a href="/html/airbnb/athens.html" >Athens</a>: 9,766 listings; avg of €83.44</li>
        <li><a href="/html/airbnb/barcelona.html" >Barcelona</a>: 16,055 listings; avg of €112.47</li>
        <li><a href="/html/airbnb/berlin.html" >Berlin</a>: 17,500 listings; avg of €74.90</li>
        <li><a href="/html/airbnb/bordeaux.html" >Bordeaux</a>: 9,424 listings; avg of €96.95</li>
        <li><a href="/html/airbnb/brussels.html" >Brussels</a>: 5,336 listings; avg of €90.94</li>
        <li><a href="/html/airbnb/crete.html" >Crete</a>: 20,180 listings; avg of €225.38</li>
        <li><a href="/html/airbnb/dublin.html" >Dublin</a>: 7,068 listings; avg of €301.72</li>
        <li><a href="/html/airbnb/florence.html" >Florence</a>: 10,548 listings; avg of €123.17</li>
        <li><a href="/html/airbnb/lisbon.html" >Lisbon</a>: 18,761 listings; avg of €104.58</li>
        <li><a href="/html/airbnb/lyon.html" >Lyon</a>: 8,304 listings; avg of €91.59</li>
        <li><a href="/html/airbnb/madrid.html" >Madrid</a>: 17,989 listings; avg of €135.09</li>
        <li><a href="/html/airbnb/milan.html" >Milan</a>: 17,231 listings; avg of €126.60</li>
        <li><a href="/html/airbnb/munich.html" >Munich</a>: 4,914 listings; avg of €120.75</li>
        <li><a href="/html/airbnb/naples.html" >Naples</a>: 7,142 listings; avg of €88.39</li>
        <li><a href="/html/airbnb/rome.html" >Rome</a>: 25,490 listings; avg of €127.01</li>
        <li><a href="/html/airbnb/sicily.html" >Sicily</a>: 48,096 listings; avg of €100.18</li>
        <li><a href="/html/airbnb/venice.html" >Venice</a>: 7,568 listings; avg of €143.29</li>
        <li><a href="/html/airbnb/vienna.html" >Vienna</a>: 11,294 listings; avg of €81.10</li>
      </ul>
    <figure>
      <img src="/img/break5.png" srcset=""alt="break">
    </figure>
    <p></p>
   <h2>Data acquisition</h2>
   <p>The underlying data I used for my analysis is located on insideairbnb.com (and is not affiliated with Airbnb the company). In order to acquire the data in the most efficient and systematic (repeatable) method, I wrote a function that relied on the BeautifulSoup package, which is used for web-scraping information from websites. My function pulled in the data from the website and then saved the information as a csv file with the date of each information package (the insideairbnb.com site publishes new listings data on a monthly basis). The code is reproduced below:</p>
   <figure>
    <img src="/img/paris_data_function.png" srcset=""alt="paris-data-function">
  </figure>
  <p>Next, I wrote functions that converted all csv files from the prior function to pandas dataframes, and then I appended all these monthly dataframes into a master dataframe for each city. As part of my function I also wrote code that provided summary information of each monthly dataframe that was loaded into the master dataframe. The code below shows that the Decmember 2012 dataframe contianes 65,917 listings, with an average price of 114.28 per night, whereas the July 2021 dataset contains 51,040 listings with an average price of 124.53 per night.</p>
  <figure>
    <img src="/img/paris_df_function.png" srcset=""alt="paris-df-function">
  </figure>
  <figure>
    <img src="/img/break5.png" srcset=""alt="break">
  </figure>
  <h2>Regression Analysis</h2>
  <p>In order to predict the prices of each airbnb unit, I relied on regression analysis and the scikit-learn package. But in order to get to this step, I did a significant amount of data cleaning and pre-processing - please see the Appendix section for more detail. The key dependent variables I relied on for my regression analysis included # of accommodations, # of bedrooms, # of beds, availabiltiy in the past 90 days, and user review scores for accuracy, cleanliness, location, value, and overall experience. I ran several regressions for Paris (and all other European cities) with constraints for # of guests with the goal of predicting the expected price of the unit.  </p>
  <figure>
    <img src="/img/paris_join_review.png" srcset=""alt="paris-join-review-data">
  </figure>
  <figure>
    <img src="/img/paris_regress_code.png" srcset=""alt="paris-regress-code">
  </figure>
  <figure>
    <img src="/img/paris_regr_coeff.png" srcset=""alt="paris-regress-coeff">
  </figure>
  <p>From there I was able to use the pandas 'query' function to find the highest predicted value units, taking into account published user reviews and various features such as # of accommodations, etc. See below for the top 5 highest expected nightly prices. It makes intuitive sense that the predicted price is positively correlated with # of guests and # of bedrooms/beds. Higher scores tend to also be positively correlated with better review scores, but the # of reviews and length of available duration does have an indiscriminant effect on the predicted price. It's also important to point out that certain optional features such as 'instant bookable' and 'super hosts' resulted in higher predicted prices. The presence of advertised amenities such as 'air conditioning', 'internet connectivity' and 'tv', among others, were also postively correlated to price.</p>
  <figure>
    <img src="/img/paris_regr_highest.png" srcset=""alt="paris-regress-highest">
  </figure>
  <p>For those seeking more affordability and better value, I was also able to identify the biggest gap between predicted price based on the regression, and listed price: </p>
  <figure>
    <img src="/img/paris_reg_discount.png" srcset=""alt="paris-regress-discount">
  </figure>
  <figure>
    <img src="/img/break5.png" srcset=""alt="break">
  </figure>
  <h2>Exploratory data analysis</h2>
  <p>As part of my analysis and before using sci-kit learn to run predict nightly prices, I conducted some exploraory data analysis on my dataset. My analysis falls into a few themes and was largely dictated by the type of variables. Below I show code and analysis for time series data, numerical data, categorical variable and boolean features.</p>
  <h3>Time Series</h3>
  <p>Observations:</p>
  <ul>
    <li>Of the Airbnb hosts still listing on the site, the earliest host that joined did so on February 28, 2010, and the most recent new host joined September 11, 2021 (note the data was initially scraped in September 2021).</li>
    <li>The outbreak of COVID-19 had a massive impact on new hosts, availability of units, nightly pricing, and ultimately the entire Airbnb company business model. For safety concerns Airbnb was forced to stop hosting guests (and did make efforts to generate additional revenue streams through virtual experiences).</li>
    <li>Seasonal decompostion analysis shows a repeating pattern, with steady gains in # of listings from 2014 and each year into 2020. The frequency of bookings coincided with the European vacation schedule, where many Parisians leave the city in August. Bookings also spiked toward the end of the year around holdiay season where demand is higher.</li>
    <li>Pricing power is pretty under-stated on the platform, and a lot of this might have to do with increased regulatory scrutiny. Airbnb is very heavily scrutinized by the Parisian government, much more so than other cities.</li>
  </ul>
  <figure>
    <img src="/img/airbnb_first_host_date.png" srcset=""alt="airbnb-first-host-date">
  </figure>
   <figure>
     <img src="/img/airbnb_timeseries1.png" srcset=""alt="airbnb-time-series-1">
   </figure>
   
   <figure>
     <img src="/img/airbnb_time_series2.png" srcset=""alt="airbnb-time-series-2">
   </figure>
   <figure>
     <img src="/img/airbnb_price_yoy.png" srcset=""alt="airbnb-price-yoy">
   </figure>
   <figure>
     <img src="/img/airbnb_price_sheet.png" srcset=""alt="airbnb-price-sheet">
   </figure>
   
 
   <h3>Numerical features</h3>
   <p>Observations:</p>
  <ul>
    <li>Nightly advertised prices ranged from 0 to 11,600 per night (for my analysis I did remove null values). The majority of prices were under 300 per night, but there did exit some outliers.</li>
    <li>Median nightly prices generally increased with an increase in number of guests that a unit accommodated. Interestingly, median pricing did peak at 12 guests and then started to decline. This may be due to some mislabeling of data (ex: it's possible that some units that accommodated a higher # of guests are actually hostels, and as a result median pricing experienced downward pressure). </li>
  </ul>
   <figure>
     <img src="/img/airbnb_describe.png" srcset=""alt="airbnb-describe">
   </figure>
   <figure>
     <img src="/img/airbnb_price_distribution.png" srcset=""alt="airbnb-distribution">
   </figure>
   <figure>
     <img src="/img/airbnb_price_distribution2.png" srcset=""alt="airbnb-distribution2">
   </figure>
   <figure>
     <img src="/img/airbnb_price_accommodations.png" srcset=""alt="airbnb-price_accommodations">
   </figure>
   
   <h3>Categorical features</h3>
   <ul>
    <li>Exploring categorical variables, and in particular using correlation analysis helped considerably in understanding the most important variables to use for regression analysis to predict nightly prices.</li>
    <li> Variables related to capacity (# of guests, # of bedrooms, # of beds) were the most positively correlated with price. </li>
    <li>Next in terms of explanatory power was host listings count. I don't believe this data is published to guests on the platform at time of booking, but the positve correlation to price does demonstrate that experience and knowledge of the platform is important and helps to reveal potential pricing power.</li>
    <li>Certain features (instant booking, 90-day availabiltiy) did remove some buyer friction and generally resulted in higher pricing</li>
    <li>The presence of certain amenities (air conditioning, tv, coffee machine, etc) are positively correlated with pricing, but to a lesser extent than capacity, host experience and booking features.</li>
  </ul>
   <figure>
     <img src="/img/airbnb_pearson_code.png" srcset=""alt="airbnb-pearson-code">
   </figure>
   <figure>
     <img src="/img/airbnb_pearson_plot_code.png" srcset=""alt="airbnb-pearson-plot-code">
   </figure>
   <figure>
     <img src="/img/airbnb_feature_correlation.png" srcset=""alt="airbnb-coffee-correlation-code">
   </figure>
   <figure>
    <img src="/img/paris_bedroom_corr_code.png" srcset=""alt="paris-bedroom-corr-code">
  </figure>
  <figure>
    <img src="/img/paris_bedroom_corr_boxplot.png" srcset=""alt="paris-bedroom-corr-plot">
  </figure>
  <figure>
    <img src="/img/paris_accomodates_corr_code.png" srcset=""alt="paris-accomodates-corr-code">
  </figure>
  <figure>
    <img src="/img/paris_accomodates_corr_boxplot.png" srcset=""alt="paris-accommodates-corr-plot">
  </figure>
  <figure>
    <img src="/img/paris_beds_corr_code.png" srcset=""alt="paris-beds-corr-code">
  </figure>
  <figure>
    <img src="/img/paris_beds_corr_plot.png" srcset=""alt="paris-beds-corr-plot">
  </figure>




   <h3>Boolean features</h3>
   <figure>
     <img src="/img/airbnb_coffee_nachine_correlation_code.png" srcset=""alt="airbnb-coffee-machine-correlation">
   </figure>
   <figure>
     <img src="/img/airbnb_coffee_correlation.png" srcset=""alt="airbnb-coffee-correlation">
   </figure>
   <figure>
    <img src="/img/paris_instant_corr_code.png" srcset=""alt="paris-instant-corr-code">
  </figure>
  <figure>
    <img src="/img/paris_instant_corr_plot.png" srcset=""alt="paris-instant-corr-plot">
  </figure>
  <figure>
    <img src="/img/paris_airc_corr_code.png" srcset=""alt="paris-airc-corr-code">
  </figure>
  <figure>
    <img src="/img/paris_airc_corr_plot.png" srcset=""alt="paris-airc-corr-plot">
  </figure>
  <figure>
    <img src="/img/paris_tv_corr_code.png" srcset=""alt="paris-tv-corr-code">
  </figure>
  <figure>
    <img src="/img/paris_tv_corr_plot.png" srcset=""alt="paris-tv-corr-plot">
  </figure>

   <figure>
     <img src="/img/break5.png" srcset=""alt="break">
   </figure>
 
  <h2>Appendix 1: Cleaning and pre-processing - raw data (n=50,133)</h2>
  <p>The dataset does have some limitations and is quite extensive; to facilitate analysis I started by importing necessary python packages and libraries, then explored and ultimately cleaned the data.</p>
  <h4>Importing the libraries and data</h4>
  <figure>
    <img src="/img/import_paris.png" srcset=""alt="import-paris">
    <figcaption>Importing the file - which contains 50,133 AirBnb listings</figcaption>
  </figure>
  <h4>Dropping initial columns</h4>
  <p>To simplify the dataset, I dropped certain columns that did not prove helpful in predicting price. I also checked for missing data - and dropped those columns that had a majority of data that is null.</p>
  <figure>
    <img src="/img/drop_initial.png" srcset=""alt="drop-initial">
  </figure>
  <figure>
    <img src="/img/isna_sum.png" srcset=""alt="isna-sum">
  </figure>
  <p>Now I checked for the boolean and categorical data, to see if any of them are worth including:</p>
  <figure>
    <img src="/img/airbnb_hist.png" srcset=""alt="airbnb-hist">
  </figure>
  <p>From the above, it can be seen that several columns only contain one category and can be dropped.</p>
  <h4>Description of each column:</h4>
  <ul>
    <li>host_since - date that the host first joined Airbnb</li>
    <li>host_response_time - average amount of time the host takes to communicate</li>
    <li>host_response_rate - proportion of messages that the host replies to</li>
    <li>host_is_superhost - whether or not the host is a superhost, which is a mark of quality for the top-rated and most experienced hosts, and can increase search ranking on Airbnb</li>
    <li>property_type - type of property, e.g. house, apartement, or hotel</li>
    <li>room_type - type of listing, e.g. entire home, private room or shared room</li>
    <li>bathrooms - number of bathrooms</li>
    <li>beds - number of beds</li>
    <li>amenities - list of amenities</li>
    <li> price - nightly advertised price</li>
    <li>minimum_nights - the minimum length of stay</li>
    <li>maximum_nights - the maximum length of stay</li>
    <li>availability_30 - how many nights are available to be booked in the next 30 days</li>
    <li>availability_60 - how many nights are available to be booked in the next 60 days</li>
    <li>availability_90 - how many nights are available to be booked in the next 90 days</li>
    <li>availability_365 - how many nights are available to be booked in the next 365 days</li>
    <li>number_of_reviews - the number of reviews left for the property</li>
    <li>number_of_reviews_ltm - the number of reviews left for the property in the last twelve months</li>
    <li>first_review - the date of the first review</li>
    <li>last_review - the date of the most recent review</li>
    <li>review_scores_rating - guests can score properties overall from 1 to 5 stars</li>
    <li>review_scores_accuracy - guests can score the accuracy of a property's description from 1 to 5 stars</li>
    <li>review_scores_cleanliness - guests can score a property's cleanliness from 1 to 5 stars</li>
    <li>review_scores_checkin - guests can score their check-in from 1 to 5 stars</li>
    <li>review_scores_communication - guests can score a host's communication from 1 to 5 stars</li>
    <li>review_scores_location - guests can score a property's location from 1 to 5 stars</li>
    <li>review_scores_value - guests can score a booking's value for money from 1 to 5 stars</li>
    <li>reviews_per_month - calculated field of the average number of reviews left by guest each month</li>
  </ul>

  <h3>Cleaning individual variables</h3>
  <p>After identifying those variables that I expected to prove most useful in my analysis, I still had to clean the data and convert some data to numerical data types.</p>
  <p>Observations:</p>
  <ul>
    <li>Host response time proved an unreliable indicator of experience on the platform as the majority of cells in this varaible were null/unknown. For the data that was provided, most hosts returned communication within an hour to a few hours.</li>
    <li> As trust and communication between hosts and guests is a key component of the platform, the mean host response rate was 89.0% and the median response rate was 100.0%. 62.1% of hosts had 100% response rates to guest inquiries. </li>
    <li>The majority of units were classified as entire rental units, followed next by private rooms in rental units. The majority of property types were houses/residences, followed next by apartments and then hotels.</li>
  </ul>
  <figure>
    <img src="/img/host_response_time.png" srcset=""alt="host-response-time">
  </figure>
  <figure>
    <img src="/img/host_response_time_plot.png" srcset=""alt="host-response-time-plot">
  </figure>
  <figure>
    <img src="/img/host_response_rate.png" srcset=""alt="host-response-rate">
  </figure>
  <figure>
    <img src="/img/host_response_bins.png" srcset=""alt="host-response-bins">
  </figure>
  <figure>
    <img src="/img/host_response_rate_plot.png" srcset=""alt="host-response-rate-plot">
  </figure>
  
  <figure>
    <img src="/img/property_type.png" srcset=""alt="property-type">
  </figure>
  <figure>
    <img src="/img/property_type_replace.png" srcset=""alt="property-type-replace">
  </figure>
  <figure>
    <img src="/img/property_type_plot.png" srcset=""alt="property-type-plot">
  </figure>
  
  <figure>
    <img src="/img/amenities.png" srcset=""alt="amenities">
  </figure>
 
  <figure>
    <img src="/img/amenities_drop.png" srcset=""alt="amenities-drop">
  </figure>
  
  <figure>
    <img src="/img/price_airbnb.png" srcset=""alt="price-airbnb">
  </figure>
  
  <figure>
    <img src="/img/break5.png" srcset=""alt="break">
  </figure>
  <h2>Appendix 2: Feature analysis</h2>
  <figure>
    <img src="/img/paris_pairplot.png" srcset=""alt="paris-pairplot">
  </figure>
  <figure>
    <img src="/img/paris_bedroom_corr.png" srcset=""alt="paris-bedroom-corr">
  </figure>
  <figure>
    <img src="/img/break5.png" srcset=""alt="break">
  </figure>
  <h2>Appendix 3: Regression analysis</h2>
 
  <figure>
    <img src="/img/paris_linear_reg_code.png" srcset=""alt="paris-linear-reg">
  </figure>
  <figure>
    <img src="/img/paris_lin_reg_plot.png" srcset=""alt="paris-linear-reg-plot">
  </figure>
  <figure>
    <img src="/img/paris_lin_reg_plot.png" srcset=""alt="paris-linear-reg-plot">
  </figure>
  <figure>
    <img src="/img/paris_linear_reg.png" srcset=""alt="paris-linear-reg">
  </figure>
  <p>Multiple regression provided a much more reliable exercise in predicting the pricing of units based on several features from the dataset. </p>
  <figure>
    <img src="/img/paris_multi_reg_prep.png" srcset=""alt="airbnb-multi-reg-prep">
  </figure>
  <figure>
    <img src="/img/paris_multi_reg_code.png" srcset=""alt="airbnb-multi-reg-code">
  </figure>

    <footer>
      <hr/>
      <div class="contact">
        <a href="https://www.linkedin.com/in/brendan-erhard/" target="_blank">
          <i title="linkedin" class="fab fa-linkedin-in fa-lg social"></i>
        </a>
        <a href="mailto:erhardbr@gmail.com" target="_top">
          <i title="email" class="far fa-envelope fa-lg social"></i>
        </a>
        <a href="https://twitter.com/bme3414" target="_top">
          <i title="twitter" class="fab fa-twitter fa-lg social"></i>
        </a>
        <a href="https://github.com/bme3412" target="_blank">
          <i title="github" class="fab fa-github fa-lg social"></i>
        </a>
      </div>
      <p>Made by BME, ©2021</p>
    </footer>
    
   </div>
   
    <script src="/js/script.js"></script>
  </body>
  
</html>